---
title: "Image Anlysis"
author: "Xuehan Liu (xl2615)"
date: "4/21/2017"
output: pdf_document
---

###Load libraries
```{r}
library(EBImage)
#install.packages("jpeg")
library(jpeg)
library(OpenImageR)
```

###Plot Image

```{r}
setwd("/Users/xuehan/Desktop/Spr2017-proj5-grp8")


pic1 <- readJPEG("/Users/xuehan/Desktop/Spr2017-proj5-grp8/data/pic1.jpg")
dim(pic1) # Gives levels of red, green, blue

op <- par(bg = "thistle")
plot(c(1, 2), c(1, 2), type = "n", xlab = "", ylab = "")
rasterImage(pic1, 1, 1, 2, 2)
```


###Extract HoG Features from images

```{r}
source("../lib/HOGFeature.R")
experiment_dir <- "../data/"
img_train_dir <- paste(experiment_dir, "images/", sep="")
h<-hogfeature(img_train_dir,export=T)

```

###Extract RGB Features from images 

```{r}
source("../lib/RGBfeature.R")
rgb<-rgbfeature(img_train_dir)

#rgbfeature<-function(){
  


# Required packages
library(biOps)
library(raster)

# Load and plot data
#data(logo)
experiment_dir <- "../data/"
jpg <- paste(experiment_dir, "images/", sep="")


plot.imagedata(jpg)

# Convert imagedata to raster
rst.blue <- raster(jpg[,,1])
rst.green <- raster(jpg[,,2])
rst.red <- raster(jpg[,,3])

# Plot single raster images and RGB composite
plot(stack(rst.blue, rst.green, rst.red), 
     main = c("Blue band", "Green band", "Red band"))
plotRGB(stack(rst.blue, rst.green, rst.red))
```


